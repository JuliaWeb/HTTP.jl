<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Internal Interfaces · HTTP.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>HTTP.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">Home</a></li><li><a class="toctext" href="../public_interface/">Public Interface</a></li><li><a class="toctext" href="../internal_architecture/">Internal Architecture</a></li><li class="current"><a class="toctext" href>Internal Interfaces</a><ul class="internal"><li><a class="toctext" href="#Parser-Interface-1">Parser Interface</a></li><li><a class="toctext" href="#Messages-Interface-1">Messages Interface</a></li><li><a class="toctext" href="#IOExtras-Interface-1">IOExtras Interface</a></li><li><a class="toctext" href="#Streams-Interface-1">Streams Interface</a></li><li><a class="toctext" href="#Connection-Pooling-Interface-1">Connection Pooling Interface</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Internal Interfaces</a></li></ul><a class="edit-page" href="https://github.com/JuliaWeb/HTTP.jl/blob/master/docs/src/internal_interface.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Internal Interfaces</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Internal-Interfaces-1" href="#Internal-Interfaces-1">Internal Interfaces</a></h1><h2><a class="nav-anchor" id="Parser-Interface-1" href="#Parser-Interface-1">Parser Interface</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="HTTP.Parsers.find_end_of_header" href="#HTTP.Parsers.find_end_of_header"><code>HTTP.Parsers.find_end_of_header</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">find_end_of_header(bytes) -&gt; length or 0</code></pre><p>Find length of header delimited by <code>\r\n\r\n</code> or <code>\n\n</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/7be78e331464c6526f38874ab57494570051ad13/src/Parsers.jl#L113-L117">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="HTTP.Parsers.find_end_of_chunk_size" href="#HTTP.Parsers.find_end_of_chunk_size"><code>HTTP.Parsers.find_end_of_chunk_size</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>Find <code>\n</code> after chunk size in <code>bytes</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/7be78e331464c6526f38874ab57494570051ad13/src/Parsers.jl#L234-L236">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="HTTP.Parsers.find_end_of_trailer" href="#HTTP.Parsers.find_end_of_trailer"><code>HTTP.Parsers.find_end_of_trailer</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">find_end_of_trailer(bytes) -&gt; length or 0</code></pre><p>Find length of trailer delimited by <code>\r\n\r\n</code> (or starting with <code>\r\n</code>). <a href="https://tools.ietf.org/html/rfc7230#section-4.1">RFC7230 4.1</a></p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/7be78e331464c6526f38874ab57494570051ad13/src/Parsers.jl#L255-L260">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="HTTP.Parsers.parse_status_line!" href="#HTTP.Parsers.parse_status_line!"><code>HTTP.Parsers.parse_status_line!</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>Parse HTTP response-line <code>bytes</code> and set the <code>status</code> and <code>version</code> fields of <code>response</code>. Return a <code>SubString</code> containing the header-field lines.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/7be78e331464c6526f38874ab57494570051ad13/src/Parsers.jl#L170-L174">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="HTTP.Parsers.parse_request_line!" href="#HTTP.Parsers.parse_request_line!"><code>HTTP.Parsers.parse_request_line!</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>Parse HTTP request-line <code>bytes</code> and set the <code>method</code>, <code>target</code> and <code>version</code> fields of <code>request</code>. Return a <code>SubString</code> containing the header-field lines.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/7be78e331464c6526f38874ab57494570051ad13/src/Parsers.jl#L154-L158">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="HTTP.Parsers.parse_header_field" href="#HTTP.Parsers.parse_header_field"><code>HTTP.Parsers.parse_header_field</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>Parse HTTP header-field. Return <code>Pair(field-name =&gt; field-value)</code> and a <code>SubString</code> containing the remaining header-field lines.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/7be78e331464c6526f38874ab57494570051ad13/src/Parsers.jl#L185-L189">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="HTTP.Parsers.parse_chunk_size" href="#HTTP.Parsers.parse_chunk_size"><code>HTTP.Parsers.parse_chunk_size</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>Parse HTTP chunk-size. Return number of bytes of chunk-data.</p><pre><code class="language-none">chunk-size = 1*HEXDIG</code></pre><p><a href="https://tools.ietf.org/html/rfc7230#section-4.1">RFC7230 4.1</a></p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/7be78e331464c6526f38874ab57494570051ad13/src/Parsers.jl#L271-L277">source</a></section><h2><a class="nav-anchor" id="Messages-Interface-1" href="#Messages-Interface-1">Messages Interface</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="HTTP.Messages.Request" href="#HTTP.Messages.Request"><code>HTTP.Messages.Request</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">Request &lt;: Message</code></pre><p>Represents a HTTP Request Message.</p><ul><li><p><code>method::String</code>  <a href="https://tools.ietf.org/html/rfc7230#section-3.1.1">RFC7230 3.1.1</a></p></li><li><p><code>target::String</code>  <a href="https://tools.ietf.org/html/rfc7230#section-5.3">RFC7230 5.3</a></p></li><li><p><code>version::VersionNumber</code>  <a href="https://tools.ietf.org/html/rfc7230#section-2.6">RFC7230 2.6</a></p></li><li><p><code>headers::Vector{Pair{String,String}}</code>  <a href="https://tools.ietf.org/html/rfc7230#section-3.2">RFC7230 3.2</a></p></li><li><p><code>body::Vector{UInt8}</code>  <a href="https://tools.ietf.org/html/rfc7230#section-3.3">RFC7230 3.3</a></p></li><li><p><code>response</code>, the <code>Response</code> to this <code>Request</code></p></li><li><p><code>txcount</code>, number of times this <code>Request</code> has been sent (see RetryRequest.jl).</p></li><li><p><code>parent</code>, the <code>Response</code> (if any) that led to this request (e.g. in the case of a redirect).  <a href="https://tools.ietf.org/html/rfc7231#section-6.4">RFC7230 6.4</a></p></li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/7be78e331464c6526f38874ab57494570051ad13/src/Messages.jl#L149-L176">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="HTTP.Messages.Response" href="#HTTP.Messages.Response"><code>HTTP.Messages.Response</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">Response &lt;: Message</code></pre><p>Represents a HTTP Response Message.</p><ul><li><p><code>version::VersionNumber</code>  <a href="https://tools.ietf.org/html/rfc7230#section-2.6">RFC7230 2.6</a></p></li><li><p><code>status::Int16</code>  <a href="https://tools.ietf.org/html/rfc7230#section-3.1.2">RFC7230 3.1.2</a>  <a href="https://tools.ietf.org/html/rfc7231#section-6">RFC7231 6</a></p></li><li><p><code>headers::Vector{Pair{String,String}}</code>  <a href="https://tools.ietf.org/html/rfc7230#section-3.2">RFC7230 3.2</a></p></li><li><p><code>body::Vector{UInt8}</code>  <a href="https://tools.ietf.org/html/rfc7230#section-3.3">RFC7230 3.3</a></p></li><li><p><code>request</code>, the <code>Request</code> that yielded this <code>Response</code>.</p></li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/7be78e331464c6526f38874ab57494570051ad13/src/Messages.jl#L83-L102">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="HTTP.Messages.iserror" href="#HTTP.Messages.iserror"><code>HTTP.Messages.iserror</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">iserror(::Response)</code></pre><p>Does this <code>Response</code> have an error status?</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/7be78e331464c6526f38874ab57494570051ad13/src/Messages.jl#L230-L234">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="HTTP.Messages.isredirect" href="#HTTP.Messages.isredirect"><code>HTTP.Messages.isredirect</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">isredirect(::Response)</code></pre><p>Does this <code>Response</code> have a redirect status?</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/7be78e331464c6526f38874ab57494570051ad13/src/Messages.jl#L239-L243">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="HTTP.Messages.ischunked" href="#HTTP.Messages.ischunked"><code>HTTP.Messages.ischunked</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">ischunked(::Message)</code></pre><p>Does the <code>Message</code> have a &quot;Transfer-Encoding: chunked&quot; header?</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/7be78e331464c6526f38874ab57494570051ad13/src/Messages.jl#L247-L251">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="HTTP.Messages.issafe" href="#HTTP.Messages.issafe"><code>HTTP.Messages.issafe</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">issafe(::Request)</code></pre><p>https://tools.ietf.org/html/rfc7231#section-4.2.1</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/7be78e331464c6526f38874ab57494570051ad13/src/Messages.jl#L214-L218">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="HTTP.Messages.isidempotent" href="#HTTP.Messages.isidempotent"><code>HTTP.Messages.isidempotent</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">isidempotent(::Request)</code></pre><p>https://tools.ietf.org/html/rfc7231#section-4.2.2</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/7be78e331464c6526f38874ab57494570051ad13/src/Messages.jl#L222-L226">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="HTTP.Messages.header" href="#HTTP.Messages.header"><code>HTTP.Messages.header</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">header(::Message, key [, default=&quot;&quot;]) -&gt; String</code></pre><p>Get header value for <code>key</code> (case-insensitive).</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/7be78e331464c6526f38874ab57494570051ad13/src/Messages.jl#L305-L309">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="HTTP.Messages.hasheader" href="#HTTP.Messages.hasheader"><code>HTTP.Messages.hasheader</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">hasheader(::Message, key) -&gt; Bool</code></pre><p>Does header value for <code>key</code> exist (case-insensitive)?</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/7be78e331464c6526f38874ab57494570051ad13/src/Messages.jl#L314-L318">source</a><div><div><pre><code class="language-none">hasheader(::Message, key, value) -&gt; Bool</code></pre><p>Does header for <code>key</code> match <code>value</code> (both case-insensitive)?</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/7be78e331464c6526f38874ab57494570051ad13/src/Messages.jl#L321-L325">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="HTTP.Messages.setheader" href="#HTTP.Messages.setheader"><code>HTTP.Messages.setheader</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">setheader(::Message, key =&gt; value)</code></pre><p>Set header <code>value</code> for <code>key</code> (case-insensitive).</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/7be78e331464c6526f38874ab57494570051ad13/src/Messages.jl#L337-L341">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="HTTP.Messages.defaultheader!" href="#HTTP.Messages.defaultheader!"><code>HTTP.Messages.defaultheader!</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">defaultheader!(::Message, key =&gt; value)</code></pre><p>Set header <code>value</code> in message for <code>key</code> if it is not already set.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/7be78e331464c6526f38874ab57494570051ad13/src/Messages.jl#L348-L352">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="HTTP.Messages.appendheader" href="#HTTP.Messages.appendheader"><code>HTTP.Messages.appendheader</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">appendheader(::Message, key =&gt; value)</code></pre><p>Append a header value to <code>message.headers</code>.</p><p>If <code>key</code> is the same as the previous header, the <code>value</code> is <a href="https://stackoverflow.com/a/24502264">appended to the value of the previous header with a comma delimiter</a></p><p><code>Set-Cookie</code> headers are not comma-combined because <a href="https://tools.ietf.org/html/rfc6265#section-3">cookies often contain internal commas</a>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/7be78e331464c6526f38874ab57494570051ad13/src/Messages.jl#L361-L372">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="HTTP.Messages.readheaders" href="#HTTP.Messages.readheaders"><code>HTTP.Messages.readheaders</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">readheaders(::IO, ::Message)</code></pre><p>Read headers (and startline) from an <code>IO</code> stream into a <code>Message</code> struct. Throw <code>EOFError</code> if input is incomplete.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/7be78e331464c6526f38874ab57494570051ad13/src/Messages.jl#L464-L469">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="HTTP.MessageRequest.setuseragent!" href="#HTTP.MessageRequest.setuseragent!"><code>HTTP.MessageRequest.setuseragent!</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">setuseragent!(x::String)</code></pre><p>Set the default User-Agent string to be used in each HTTP request. Can be manually overridden by passing an explicit <code>User-Agent</code> header.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/7be78e331464c6526f38874ab57494570051ad13/src/MessageRequest.jl#L52-L57">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="HTTP.Messages.readchunksize" href="#HTTP.Messages.readchunksize"><code>HTTP.Messages.readchunksize</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>Read chunk-size from an <code>IO</code> stream. After the final zero size chunk, read trailers into a <code>Message</code> struct.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/7be78e331464c6526f38874ab57494570051ad13/src/Messages.jl#L491-L494">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="HTTP.Messages.headerscomplete-Tuple{HTTP.Messages.Response}" href="#HTTP.Messages.headerscomplete-Tuple{HTTP.Messages.Response}"><code>HTTP.Messages.headerscomplete</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">headerscomplete(::Message)</code></pre><p>Have the headers been read into this <code>Message</code>?</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/7be78e331464c6526f38874ab57494570051ad13/src/Messages.jl#L256-L260">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="HTTP.Messages.writestartline" href="#HTTP.Messages.writestartline"><code>HTTP.Messages.writestartline</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">writestartline(::IO, ::Message)</code></pre><p>e.g. <code>&quot;GET /path HTTP/1.1\r\n&quot;</code> or <code>&quot;HTTP/1.1 200 OK\r\n&quot;</code></p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/7be78e331464c6526f38874ab57494570051ad13/src/Messages.jl#L415-L419">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="HTTP.Messages.writeheaders" href="#HTTP.Messages.writeheaders"><code>HTTP.Messages.writeheaders</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">writeheaders(::IO, ::Message)</code></pre><p>Write <code>Message</code> start line and a line for each &quot;name: value&quot; pair and a trailing blank line.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/7be78e331464c6526f38874ab57494570051ad13/src/Messages.jl#L430-L435">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.write-Tuple{IO,HTTP.Messages.Message}" href="#Base.write-Tuple{IO,HTTP.Messages.Message}"><code>Base.write</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">write(::IO, ::Message)</code></pre><p>Write start line, headers and body of HTTP Message.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/7be78e331464c6526f38874ab57494570051ad13/src/Messages.jl#L445-L449">source</a></section><h2><a class="nav-anchor" id="IOExtras-Interface-1" href="#IOExtras-Interface-1">IOExtras Interface</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="HTTP.IOExtras" href="#HTTP.IOExtras"><code>HTTP.IOExtras</code></a> — <span class="docstring-category">Module</span>.</div><div><div><pre><code class="language-julia">IOExtras</code></pre><p>This module defines extensions to the <code>Base.IO</code> interface to support:</p><ul><li><code>startwrite</code>, <code>closewrite</code>, <code>startread</code> and <code>closeread</code> for streams  with transactional semantics.</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/7be78e331464c6526f38874ab57494570051ad13/src/IOExtras.jl#L1-L7">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="HTTP.IOExtras.startwrite-Tuple{IO}" href="#HTTP.IOExtras.startwrite-Tuple{IO}"><code>HTTP.IOExtras.startwrite</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">startwrite(::IO)
closewrite(::IO)
startread(::IO)
closeread(::IO)</code></pre><p>Signal start/end of write or read operations.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/7be78e331464c6526f38874ab57494570051ad13/src/IOExtras.jl#L69-L76">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="HTTP.IOExtras.isioerror" href="#HTTP.IOExtras.isioerror"><code>HTTP.IOExtras.isioerror</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">isioerror(exception)</code></pre><p>Is <code>exception</code> caused by a possibly recoverable IO error.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/7be78e331464c6526f38874ab57494570051ad13/src/IOExtras.jl#L33-L37">source</a></section><h2><a class="nav-anchor" id="Streams-Interface-1" href="#Streams-Interface-1">Streams Interface</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="HTTP.Streams.closebody" href="#HTTP.Streams.closebody"><code>HTTP.Streams.closebody</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">closebody(::Stream)</code></pre><p>Write the final <code>0</code> chunk if needed.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/7be78e331464c6526f38874ab57494570051ad13/src/Streams.jl#L103-L107">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="HTTP.Streams.isaborted" href="#HTTP.Streams.isaborted"><code>HTTP.Streams.isaborted</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">isaborted(::Stream{Response})</code></pre><p>Has the server signaled that it does not wish to receive the message body?</p><p>&quot;If [the response] indicates the server does not wish to receive the  message body and is closing the connection, the client SHOULD  immediately cease transmitting the body and close the connection.&quot; <a href="https://tools.ietf.org/html/rfc7230#section-6.5">RFC7230, 6.5</a></p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/7be78e331464c6526f38874ab57494570051ad13/src/Streams.jl#L309-L318">source</a></section><h2><a class="nav-anchor" id="Connection-Pooling-Interface-1" href="#Connection-Pooling-Interface-1">Connection Pooling Interface</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="HTTP.ConnectionPool.Connection" href="#HTTP.ConnectionPool.Connection"><code>HTTP.ConnectionPool.Connection</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">Connection{T &lt;: IO}</code></pre><p>A <code>TCPSocket</code> or <code>SSLContext</code> connection to a HTTP <code>host</code> and <code>port</code>.</p><p>Fields:</p><ul><li><code>host::String</code></li><li><code>port::String</code>, exactly as specified in the URI (i.e. may be empty).</li><li><code>pipeline_limit</code>, number of requests to send before waiting for responses.</li><li><code>idle_timeout</code>, No. of sconds to maintain connection after last transaction.</li><li><code>peerport</code>, remote TCP port number (used for debug messages).</li><li><code>localport</code>, local TCP port number (used for debug messages).</li><li><code>io::T</code>, the <code>TCPSocket</code> or `SSLContext.</li><li><code>buffer::IOBuffer</code>, left over bytes read from the connection after  the end of a response header (or chunksize). These bytes are usually  part of the response body.</li><li><code>sequence</code>, number of most recent <code>Transaction</code>.</li><li><code>writecount</code>, number of Messages that have been written.</li><li><code>writedone</code>, signal that <code>writecount</code> was incremented.</li><li><code>readcount</code>, number of Messages that have been read.</li><li><code>readdone</code>, signal that <code>readcount</code> was incremented.</li><li><code>timestamp</code>, time data was last recieved.</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/7be78e331464c6526f38874ab57494570051ad13/src/ConnectionPool.jl#L41-L63">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="HTTP.ConnectionPool.Transaction" href="#HTTP.ConnectionPool.Transaction"><code>HTTP.ConnectionPool.Transaction</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">Transaction</code></pre><p>A single pipelined HTTP Request/Response transaction`.</p><p>Fields:</p><ul><li><code>c</code>, the shared <a href="#HTTP.ConnectionPool.Connection"><code>Connection</code></a> used for this <code>Transaction</code>.</li><li><code>sequence::Int</code>, identifies this <code>Transaction</code> among the others that share <code>c</code>.</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/7be78e331464c6526f38874ab57494570051ad13/src/ConnectionPool.jl#L84-L92">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="HTTP.ConnectionPool.pool" href="#HTTP.ConnectionPool.pool"><code>HTTP.ConnectionPool.pool</code></a> — <span class="docstring-category">Constant</span>.</div><div><div><p>The <code>pool</code> is a collection of open <code>Connection</code>s.  The <code>request</code> function calls <code>getconnection</code> to retrieve a connection from the <code>pool</code>.  When the <code>request</code> function has written a Request Message it calls <code>closewrite</code> to signal that the <code>Connection</code> can be reused for writing (to send the next Request). When the <code>request</code> function has read the Response Message it calls <code>closeread</code> to signal that the <code>Connection</code> can be reused for reading.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/7be78e331464c6526f38874ab57494570051ad13/src/ConnectionPool.jl#L361-L369">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="HTTP.ConnectionPool.getconnection" href="#HTTP.ConnectionPool.getconnection"><code>HTTP.ConnectionPool.getconnection</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">getconnection(type, host, port) -&gt; Connection</code></pre><p>Find a reusable <code>Connection</code> in the <code>pool</code>, or create a new <code>Connection</code> if required.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/7be78e331464c6526f38874ab57494570051ad13/src/ConnectionPool.jl#L471-L476">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="HTTP.IOExtras.startwrite-Tuple{HTTP.ConnectionPool.Transaction}" href="#HTTP.IOExtras.startwrite-Tuple{HTTP.ConnectionPool.Transaction}"><code>HTTP.IOExtras.startwrite</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">startwrite(::Transaction)</code></pre><p>Wait for prior pending writes to complete.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/7be78e331464c6526f38874ab57494570051ad13/src/ConnectionPool.jl#L234-L238">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="HTTP.IOExtras.closewrite-Tuple{HTTP.ConnectionPool.Transaction}" href="#HTTP.IOExtras.closewrite-Tuple{HTTP.ConnectionPool.Transaction}"><code>HTTP.IOExtras.closewrite</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">closewrite(::Transaction)</code></pre><p>Signal that an entire Request Message has been written to the <code>Transaction</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/7be78e331464c6526f38874ab57494570051ad13/src/ConnectionPool.jl#L250-L254">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="HTTP.IOExtras.startread-Tuple{HTTP.ConnectionPool.Transaction}" href="#HTTP.IOExtras.startread-Tuple{HTTP.ConnectionPool.Transaction}"><code>HTTP.IOExtras.startread</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">startread(::Transaction)</code></pre><p>Wait for prior pending reads to complete.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/7be78e331464c6526f38874ab57494570051ad13/src/ConnectionPool.jl#L267-L271">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="HTTP.IOExtras.closeread-Tuple{HTTP.ConnectionPool.Transaction}" href="#HTTP.IOExtras.closeread-Tuple{HTTP.ConnectionPool.Transaction}"><code>HTTP.IOExtras.closeread</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">closeread(::Transaction)</code></pre><p>Signal that an entire Response Message has been read from the <code>Transaction</code>.</p><p>Increment <code>readcount</code> and wake up tasks waiting in <code>startread</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/7be78e331464c6526f38874ab57494570051ad13/src/ConnectionPool.jl#L284-L290">source</a></section><footer><hr/><a class="previous" href="../internal_architecture/"><span class="direction">Previous</span><span class="title">Internal Architecture</span></a></footer></article></body></html>
