<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Public Interface · HTTP.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.044/juliamono.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">HTTP.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>Public Interface</a><ul class="internal"><li><a class="tocitem" href="#Requests"><span>Requests</span></a></li><li><a class="tocitem" href="#URIs"><span>URIs</span></a></li><li><a class="tocitem" href="#Cookies"><span>Cookies</span></a></li><li><a class="tocitem" href="#Utilities"><span>Utilities</span></a></li><li><a class="tocitem" href="#Server-/-Handlers"><span>Server / Handlers</span></a></li><li><a class="tocitem" href="#Messages-Interface"><span>Messages Interface</span></a></li></ul></li><li><a class="tocitem" href="../internal_architecture/">Internal Architecture</a></li><li><a class="tocitem" href="../internal_interface/">Internal Interfaces</a></li><li><a class="tocitem" href="../examples/">Examples</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Public Interface</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Public Interface</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaWeb/HTTP.jl/blob/master/docs/src/public_interface.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Public-Interface"><a class="docs-heading-anchor" href="#Public-Interface">Public Interface</a><a id="Public-Interface-1"></a><a class="docs-heading-anchor-permalink" href="#Public-Interface" title="Permalink"></a></h1><h2 id="Requests"><a class="docs-heading-anchor" href="#Requests">Requests</a><a id="Requests-1"></a><a class="docs-heading-anchor-permalink" href="#Requests" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="HTTP.request" href="#HTTP.request"><code>HTTP.request</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">HTTP.request(method, url [, headers [, body]]; &lt;keyword arguments&gt;]) -&gt; HTTP.Response</code></pre><p>Send a HTTP Request Message and receive a HTTP Response Message.</p><p>e.g.</p><pre><code class="language-julia hljs">r = HTTP.request(&quot;GET&quot;, &quot;http://httpbin.org/ip&quot;)
println(r.status)
println(String(r.body))</code></pre><p><code>headers</code> can be any collection where <code>[string(k) =&gt; string(v) for (k,v) in headers]</code> yields <code>Vector{Pair}</code>. e.g. a <code>Dict()</code>, a <code>Vector{Tuple}</code>, a <code>Vector{Pair}</code> or an iterator.</p><p><code>body</code> can take a number of forms:</p><ul><li>a <code>String</code>, a <code>Vector{UInt8}</code> or any <code>T</code> accepted by <code>write(::IO, ::T)</code></li><li>a collection of <code>String</code> or <code>AbstractVector{UInt8}</code> or <code>IO</code> streams or items of any type <code>T</code> accepted by <code>write(::IO, ::T...)</code></li><li>a readable <code>IO</code> stream or any <code>IO</code>-like type <code>T</code> for which <code>eof(T)</code> and <code>readavailable(T)</code> are defined.</li></ul><p>The <code>HTTP.Response</code> struct contains:</p><ul><li><code>status::Int16</code> e.g. <code>200</code></li><li><code>headers::Vector{Pair{String,String}}</code>  e.g. [&quot;Server&quot; =&gt; &quot;Apache&quot;, &quot;Content-Type&quot; =&gt; &quot;text/html&quot;]</li><li><code>body::Vector{UInt8}</code>, the Response Body bytes  (empty if a <code>response_stream</code> was specified in the <code>request</code>).</li></ul><p>Functions <code>HTTP.get</code>, <code>HTTP.put</code>, <code>HTTP.post</code> and <code>HTTP.head</code> are defined as shorthand for <code>HTTP.request(&quot;GET&quot;, ...)</code>, etc.</p><p><code>HTTP.request</code> and <code>HTTP.open</code> also accept optional keyword parameters.</p><p>e.g.</p><pre><code class="language-julia hljs">HTTP.request(&quot;GET&quot;, &quot;http://httpbin.org/ip&quot;; retries=4, cookies=true)

HTTP.get(&quot;http://s3.us-east-1.amazonaws.com/&quot;)

conf = (readtimeout = 10,
        retry = false,
        redirect = false)

HTTP.get(&quot;http://httpbin.org/ip&quot;; conf...)
HTTP.put(&quot;http://httpbin.org/put&quot;, [], &quot;Hello&quot;; conf...)</code></pre><p>URL options</p><ul><li><code>query = nothing</code>, replaces the query part of <code>url</code>.</li></ul><p>Streaming options</p><ul><li><code>response_stream = nothing</code>, a writeable <code>IO</code> stream or any <code>IO</code>-like  type <code>T</code> for which <code>write(T, AbstractVector{UInt8})</code> is defined.</li><li><code>verbose = 0</code>, set to <code>1</code> or <code>2</code> for extra message logging.</li></ul><p>Connection Pool options</p><ul><li><code>connect_timeout = 0</code>, close the connection after this many seconds if it is still attempting to connect. Use <code>connect_timeout = 0</code> to disable.</li><li><code>connection_limit = 8</code>, number of concurrent connections to each host:port.</li><li><code>socket_type = TCPSocket</code></li></ul><p>Timeout options</p><ul><li><code>readtimeout = 0</code>, close the connection if no data is received for this many seconds. Use <code>readtimeout = 0</code> to disable.</li></ul><p>Retry options</p><ul><li><code>retry = true</code>, retry idempotent requests in case of error.</li><li><code>retries = 4</code>, number of times to retry.</li><li><code>retry_non_idempotent = false</code>, retry non-idempotent requests too. e.g. POST.</li></ul><p>Redirect options</p><ul><li><code>redirect = true</code>, follow 3xx redirect responses.</li><li><code>redirect_limit = 3</code>, number of times to redirect.</li><li><code>forwardheaders = true</code>, forward original headers on redirect.</li></ul><p>Status Exception options</p><ul><li><code>status_exception = true</code>, throw <code>HTTP.StatusError</code> for response status &gt;= 300.</li></ul><p>SSLContext options</p><ul><li><code>require_ssl_verification = NetworkOptions.verify_host(host)</code>, pass <code>MBEDTLS_SSL_VERIFY_REQUIRED</code> to the mbed TLS library. <a href="https://tls.mbed.org/api/ssl_8h.html#a5695285c9dbfefec295012b566290f37">&quot;... peer must present a valid certificate, handshake is aborted if   verification failed.&quot;</a></li><li><code>sslconfig = SSLConfig(require_ssl_verification)</code></li></ul><p>Basic Authentication options</p><ul><li>Basic authentication is detected automatically from the provided url&#39;s <code>userinfo</code> (in the form <code>scheme://user:password@host</code>) and adds the <code>Authorization: Basic</code> header; this can be disabled by passing <code>basicauth=false</code></li></ul><p>Cookie options</p><ul><li><code>cookies::Union{Bool, Dict{&lt;:AbstractString, &lt;:AbstractString}} = false</code>, enable cookies, or alternatively,      pass a <code>Dict{AbstractString, AbstractString}</code> of name-value pairs to manually pass cookies</li><li><code>cookiejar::Dict{String, Set{Cookie}}=default_cookiejar</code>,</li></ul><p>Canonicalization options</p><ul><li><code>canonicalize_headers = false</code>, rewrite request and response headers in Canonical-Camel-Dash-Format.</li></ul><p>Proxy options</p><ul><li><code>proxy = proxyurl</code>, pass request through a proxy given as a url</li></ul><p>Alternatively, HTTP.jl also respects the <code>http_proxy</code>, <code>HTTP_PROXY</code>, <code>https_proxy</code>, <code>HTTPS_PROXY</code>, and <code>no_proxy</code> environment variables; if set, they will be used automatically when making requests.</p><p><strong>Request Body Examples</strong></p><p>String body:</p><pre><code class="language-julia hljs">HTTP.request(&quot;POST&quot;, &quot;http://httpbin.org/post&quot;, [], &quot;post body data&quot;)</code></pre><p>Stream body from file:</p><pre><code class="language-julia hljs">io = open(&quot;post_data.txt&quot;, &quot;r&quot;)
HTTP.request(&quot;POST&quot;, &quot;http://httpbin.org/post&quot;, [], io)</code></pre><p>Generator body:</p><pre><code class="language-julia hljs">chunks = (&quot;chunk$i&quot; for i in 1:1000)
HTTP.request(&quot;POST&quot;, &quot;http://httpbin.org/post&quot;, [], chunks)</code></pre><p>Collection body:</p><pre><code class="language-julia hljs">chunks = [preamble_chunk, data_chunk, checksum(data_chunk)]
HTTP.request(&quot;POST&quot;, &quot;http://httpbin.org/post&quot;, [], chunks)</code></pre><p><code>open() do io</code> body:</p><pre><code class="language-julia hljs">HTTP.open(&quot;POST&quot;, &quot;http://httpbin.org/post&quot;) do io
    write(io, preamble_chunk)
    write(io, data_chunk)
    write(io, checksum(data_chunk))
end</code></pre><p><strong>Response Body Examples</strong></p><p>String body:</p><pre><code class="language-julia hljs">r = HTTP.request(&quot;GET&quot;, &quot;http://httpbin.org/get&quot;)
println(String(r.body))</code></pre><p>Stream body to file:</p><pre><code class="language-julia hljs">io = open(&quot;get_data.txt&quot;, &quot;w&quot;)
r = HTTP.request(&quot;GET&quot;, &quot;http://httpbin.org/get&quot;, response_stream=io)
close(io)
println(read(&quot;get_data.txt&quot;))</code></pre><p>Stream body through buffer:</p><pre><code class="language-julia hljs">io = Base.BufferStream()
@async while !eof(io)
    bytes = readavailable(io)
    println(&quot;GET data: $bytes&quot;)
end
r = HTTP.request(&quot;GET&quot;, &quot;http://httpbin.org/get&quot;, response_stream=io)
close(io)</code></pre><p>Stream body through <code>open() do io</code>:</p><pre><code class="language-julia hljs">r = HTTP.open(&quot;GET&quot;, &quot;http://httpbin.org/stream/10&quot;) do io
   while !eof(io)
       println(String(readavailable(io)))
   end
end

using HTTP.IOExtras

HTTP.open(&quot;GET&quot;, &quot;https://tinyurl.com/bach-cello-suite-1-ogg&quot;) do http
    n = 0
    r = startread(http)
    l = parse(Int, HTTP.header(r, &quot;Content-Length&quot;))
    open(`vlc -q --play-and-exit --intf dummy -`, &quot;w&quot;) do vlc
        while !eof(http)
            bytes = readavailable(http)
            write(vlc, bytes)
            n += length(bytes)
            println(&quot;streamed $n-bytes $((100*n)÷l)%\u1b[1A&quot;)
        end
    end
end</code></pre><p><strong>Request and Response Body Examples</strong></p><p>String bodies:</p><pre><code class="language-julia hljs">r = HTTP.request(&quot;POST&quot;, &quot;http://httpbin.org/post&quot;, [], &quot;post body data&quot;)
println(String(r.body))</code></pre><p>Interfacing with RESTful JSON APIs:</p><pre><code class="language-julia hljs">using JSON
params = Dict(&quot;user&quot;=&gt;&quot;RAO...tjN&quot;, &quot;token&quot;=&gt;&quot;NzU...Wnp&quot;, &quot;message&quot;=&gt;&quot;Hello!&quot;)
base_url = &quot;http://api.domain.com&quot;
endpoint = &quot;/1/messages.json&quot;
url = base_url * endpoint
r = HTTP.request(&quot;POST&quot;, url,
             [&quot;Content-Type&quot; =&gt; &quot;application/json&quot;],
             JSON.json(params))
println(JSON.parse(String(r.body)))</code></pre><p>Stream bodies from and to files:</p><pre><code class="language-julia hljs">in = open(&quot;foo.png&quot;, &quot;r&quot;)
out = open(&quot;foo.jpg&quot;, &quot;w&quot;)
HTTP.request(&quot;POST&quot;, &quot;http://convert.com/png2jpg&quot;, [], in, response_stream=out)</code></pre><p>Stream bodies through: <code>open() do io</code>:</p><pre><code class="language-julia hljs">using HTTP.IOExtras

HTTP.open(&quot;POST&quot;, &quot;http://music.com/play&quot;) do io
    write(io, JSON.json([
        &quot;auth&quot; =&gt; &quot;12345XXXX&quot;,
        &quot;song_id&quot; =&gt; 7,
    ]))
    r = startread(io)
    @show r.status
    while !eof(io)
        bytes = readavailable(io)
        play_audio(bytes)
    end
end</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/9666a965fb19e1694a6c85aeb5a3e2cb55220527/src/HTTP.jl#L63-L327">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HTTP.open" href="#HTTP.open"><code>HTTP.open</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">HTTP.open(method, url, [,headers]) do io
    write(io, body)
    [startread(io) -&gt; HTTP.Response]
    while !eof(io)
        readavailable(io) -&gt; AbstractVector{UInt8}
    end
end -&gt; HTTP.Response</code></pre><p>The <code>HTTP.open</code> API allows the Request Body to be written to (and/or the Response Body to be read from) an <code>IO</code> stream.</p><p>e.g. Streaming an audio file to the <code>vlc</code> player:</p><pre><code class="language-julia hljs">HTTP.open(:GET, &quot;https://tinyurl.com/bach-cello-suite-1-ogg&quot;) do http
    open(`vlc -q --play-and-exit --intf dummy -`, &quot;w&quot;) do vlc
        write(vlc, http)
    end
end</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/9666a965fb19e1694a6c85aeb5a3e2cb55220527/src/HTTP.jl#L418-L439">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HTTP.get" href="#HTTP.get"><code>HTTP.get</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">HTTP.get(url [, headers]; &lt;keyword arguments&gt;) -&gt; HTTP.Response</code></pre><p>Shorthand for <code>HTTP.request(&quot;GET&quot;, ...)</code>. See <a href="#HTTP.request"><code>HTTP.request</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/9666a965fb19e1694a6c85aeb5a3e2cb55220527/src/HTTP.jl#L373-L377">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HTTP.put" href="#HTTP.put"><code>HTTP.put</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">HTTP.put(url, headers, body; &lt;keyword arguments&gt;) -&gt; HTTP.Response</code></pre><p>Shorthand for <code>HTTP.request(&quot;PUT&quot;, ...)</code>. See <a href="#HTTP.request"><code>HTTP.request</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/9666a965fb19e1694a6c85aeb5a3e2cb55220527/src/HTTP.jl#L380-L384">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HTTP.post" href="#HTTP.post"><code>HTTP.post</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">HTTP.post(url, headers, body; &lt;keyword arguments&gt;) -&gt; HTTP.Response</code></pre><p>Shorthand for <code>HTTP.request(&quot;POST&quot;, ...)</code>. See <a href="#HTTP.request"><code>HTTP.request</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/9666a965fb19e1694a6c85aeb5a3e2cb55220527/src/HTTP.jl#L387-L391">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HTTP.head" href="#HTTP.head"><code>HTTP.head</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">HTTP.head(url; &lt;keyword arguments&gt;) -&gt; HTTP.Response</code></pre><p>Shorthand for <code>HTTP.request(&quot;HEAD&quot;, ...)</code>. See <a href="#HTTP.request"><code>HTTP.request</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/9666a965fb19e1694a6c85aeb5a3e2cb55220527/src/HTTP.jl#L401-L405">source</a></section></article><h3 id="Request-body-types"><a class="docs-heading-anchor" href="#Request-body-types">Request body types</a><a id="Request-body-types-1"></a><a class="docs-heading-anchor-permalink" href="#Request-body-types" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="HTTP.Form" href="#HTTP.Form"><code>HTTP.Form</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Form(data; boundary=string(rand(UInt128), base=16))</code></pre><p>Construct a request body for multipart/form-data encoding from <code>data</code>.</p><p><code>data</code> must iterate key-value pairs (e.g. <code>Dict</code> or <code>Vector{Pair}</code>) where the key/value of the iterator is the key/value of each mutipart boundary chunk. Files and other large data arguments can be provided as values as IO arguments: either an <code>IOStream</code> such as returned via <code>open(file)</code>, or an <code>IOBuffer</code> for in-memory data.</p><p>For complete control over a multipart chunk&#39;s details, an <a href="#HTTP.Multipart"><code>HTTP.Multipart</code></a> type is provided to support setting the <code>filename</code>, <code>Content-Type</code>, and <code>Content-Transfer-Encoding</code>.</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">data = Dict(
    &quot;text&quot; =&gt; &quot;text data&quot;,
    # filename (cat.png) and content-type (image/png) inferred from the IOStream
    &quot;file1&quot; =&gt; open(&quot;cat.png&quot;),
    # manully controlled chunk
    &quot;file2&quot; =&gt; HTTP.Multipart(&quot;dog.jpeg&quot;, open(&quot;mydog.jpg&quot;), &quot;image/jpeg&quot;),
)
body = HTTP.Form(data)
headers = []
HTTP.post(url, headers, body)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/9666a965fb19e1694a6c85aeb5a3e2cb55220527/src/multipart.jl#L48-L75">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HTTP.Multipart" href="#HTTP.Multipart"><code>HTTP.Multipart</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Multipart(filename::String, data::IO, content_type=HTTP.sniff(data), content_transfer_encoding=&quot;&quot;)</code></pre><p>A type to represent a single multipart upload chunk for a file. This type would be used as the value in a key-value pair when constructing a <a href="#HTTP.Form"><code>HTTP.Form</code></a> for a request body (see example below). The <code>data</code> argument must be an <code>IO</code> type such as <code>IOStream</code>, or <code>IOBuffer</code>. The <code>content_type</code> and <code>content_transfer_encoding</code> arguments allow manual setting of these multipart headers. <code>Content-Type</code> will default to the result of the <code>HTTP.sniff(data)</code> mimetype detection algorithm, whereas <code>Content-Transfer-Encoding</code> will be left out if not specified.</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">body = HTTP.Form(Dict(
    &quot;key&quot; =&gt; HTTP.Multipart(&quot;File.txt&quot;, open(&quot;MyFile.txt&quot;), &quot;text/plain&quot;),
))
headers = []
HTTP.post(url, headers, body)</code></pre><p><strong>Extended help</strong></p><p>Filename SHOULD be included when the Multipart represents the contents of a file <a href="https://tools.ietf.org/html/rfc7578#section-4.2">RFC7578 4.2</a></p><p>Content-Disposition set to &quot;form-data&quot; MUST be included with each Multipart. An additional &quot;name&quot; parameter MUST be included An optional &quot;filename&quot; parameter SHOULD be included if the contents of a file are sent This will be formatted such as:   Content-Disposition: form-data; name=&quot;user&quot;; filename=&quot;myfile.txt&quot; <a href="https://tools.ietf.org/html/rfc7578#section-4.2">RFC7578 4.2</a></p><p>Content-Type for each Multipart is optional, but SHOULD be included if the contents of a file are sent. <a href="https://tools.ietf.org/html/rfc7578#section-4.4">RFC7578 4.4</a></p><p>Content-Transfer-Encoding for each Multipart is deprecated <a href="https://tools.ietf.org/html/rfc7578#section-4.7">RFC7578 4.7</a></p><p>Other Content- header fields MUST be ignored <a href="https://tools.ietf.org/html/rfc7578#section-4.8">RFC7578 4.8</a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/9666a965fb19e1694a6c85aeb5a3e2cb55220527/src/multipart.jl#L115-L155">source</a></section></article><h3 id="Request-exceptions"><a class="docs-heading-anchor" href="#Request-exceptions">Request exceptions</a><a id="Request-exceptions-1"></a><a class="docs-heading-anchor-permalink" href="#Request-exceptions" title="Permalink"></a></h3><p>Request functions may throw the following exceptions:</p><article class="docstring"><header><a class="docstring-binding" id="HTTP.ExceptionRequest.StatusError" href="#HTTP.ExceptionRequest.StatusError"><code>HTTP.ExceptionRequest.StatusError</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">StatusError &lt;: Exception</code></pre><p>The <code>Response</code> has a <code>4xx</code>, <code>5xx</code> or unrecognised status code.</p><p>Fields:</p><ul><li><code>status::Int16</code>, the response status code.</li><li><code>response</code> the <a href="#HTTP.Messages.Response"><code>HTTP.Response</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/9666a965fb19e1694a6c85aeb5a3e2cb55220527/src/ExceptionRequest.jl#L26-L34">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HTTP.Parsers.ParseError" href="#HTTP.Parsers.ParseError"><code>HTTP.Parsers.ParseError</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ParseError &lt;: Exception</code></pre><p>Parser input was invalid.</p><p>Fields:</p><ul><li><code>code</code>, error code</li><li><code>bytes</code>, the offending input.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/9666a965fb19e1694a6c85aeb5a3e2cb55220527/src/Parsers.jl#L35-L43">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HTTP.IOExtras.IOError" href="#HTTP.IOExtras.IOError"><code>HTTP.IOExtras.IOError</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">IOError &lt;: Exception</code></pre><p>The request terminated with due to an IO-related error.</p><p>Fields:</p><ul><li><code>e</code>, the error.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/9666a965fb19e1694a6c85aeb5a3e2cb55220527/src/IOExtras.jl#L57-L64">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Sockets.DNSError" href="#Sockets.DNSError"><code>Sockets.DNSError</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">DNSError</code></pre><p>The type of exception thrown when an error occurs in DNS lookup. The <code>host</code> field indicates the host URL string. The <code>code</code> field indicates the error code based on libuv.</p></div></section></article><h2 id="URIs"><a class="docs-heading-anchor" href="#URIs">URIs</a><a id="URIs-1"></a><a class="docs-heading-anchor-permalink" href="#URIs" title="Permalink"></a></h2><p>HTTP.jl uses the <a href="https://github.com/JuliaWeb/URIs.jl">URIs.jl</a> package for handling URIs. Some functionality from URIs.jl, relevant to HTTP.jl, are listed below:</p><article class="docstring"><header><a class="docstring-binding" id="URIs.URI" href="#URIs.URI"><code>URIs.URI</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">URI(; scheme=&quot;&quot;, host=&quot;&quot;, port=&quot;&quot;, etc...)
URI(str) = parse(URI, str::String)</code></pre><p>A type representing a URI (e.g. a URL). Can be constructed from distinct parts using the various supported keyword arguments, or from a string. The <code>URI</code> constructors will automatically escape any provided <code>query</code> arguments, typically provided as <code>&quot;key&quot;=&gt;&quot;value&quot;::Pair</code> or <code>Dict(&quot;key&quot;=&gt;&quot;value&quot;)</code>. Note that multiple values for a single query key can provided like <code>Dict(&quot;key&quot;=&gt;[&quot;value1&quot;, &quot;value2&quot;])</code>.</p><p>When constructing a <code>URI</code> from a <code>String</code>, you need to first unescape that string: <code>URI( URIs.unescapeuri(str) )</code>.</p><p>The <code>URI</code> struct stores the complete URI in the <code>uri::String</code> field and the component parts in the following <code>SubString</code> fields:</p><ul><li><code>scheme</code>, e.g. <code>&quot;http&quot;</code> or <code>&quot;https&quot;</code></li><li><code>userinfo</code>, e.g. <code>&quot;username:password&quot;</code></li><li><code>host</code> e.g. <code>&quot;julialang.org&quot;</code></li><li><code>port</code> e.g. <code>&quot;80&quot;</code> or <code>&quot;&quot;</code></li><li><code>path</code> e.g <code>&quot;/&quot;</code></li><li><code>query</code> e.g. <code>&quot;Foo=1&amp;Bar=2&quot;</code></li><li><code>fragment</code></li></ul><p>The <code>queryparams(::URI)</code> function returns a <code>Dict</code> containing the <code>query</code>.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="URIs.escapeuri" href="#URIs.escapeuri"><code>URIs.escapeuri</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">escapeuri(x)</code></pre><p>Apply URI percent-encoding to escape special characters in <code>x</code>.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="URIs.unescapeuri" href="#URIs.unescapeuri"><code>URIs.unescapeuri</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">unescapeuri(str)</code></pre><p>Percent-decode a string according to the URI escaping rules.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="URIs.splitpath" href="#URIs.splitpath"><code>URIs.splitpath</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">URIs.splitpath(path|uri; rstrip_empty_segment=true)</code></pre><p>Splits the path into component segments based on <code>/</code>, according to http://tools.ietf.org/html/rfc3986#section-3.3. Any fragment and query parts of the string are ignored if present.</p><p>A final empty path segment (trailing &#39;/&#39;) is removed, if present. This is technically incompatible with the segment grammar of RFC3986, but it seems to be a common recommendation to make paths with and without a trailing slash equivalent. To preserve any final empty path segment, set <code>rstrip_empty_segment=false</code>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; URIs.splitpath(URI(&quot;http://example.com/foo/bar?a=b&amp;c=d&quot;))
2-element Array{String,1}:
 &quot;foo&quot;
 &quot;bar&quot;

julia&gt; URIs.splitpath(&quot;/foo/bar/&quot;)
2-element Array{String,1}:
 &quot;foo&quot;
 &quot;bar&quot;</code></pre></div></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.isvalid-Tuple{URI}" href="#Base.isvalid-Tuple{URI}"><code>Base.isvalid</code></a> — <span class="docstring-category">Method</span></header><section><div><p>checks if a <code>URI</code> is valid</p></div></section></article><h2 id="Cookies"><a class="docs-heading-anchor" href="#Cookies">Cookies</a><a id="Cookies-1"></a><a class="docs-heading-anchor-permalink" href="#Cookies" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="HTTP.Cookies.Cookie" href="#HTTP.Cookies.Cookie"><code>HTTP.Cookies.Cookie</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Cookie()
Cookie(; kwargs...)
Cookie(name, value; kwargs...)</code></pre><p>A Cookie represents an HTTP cookie as sent in the Set-Cookie header of an HTTP response or the Cookie header of an HTTP request. Supported fields (which can be set using keyword arguments) include:</p><ul><li><code>name</code>: name of the cookie</li><li><code>value</code>: value of the cookie</li><li><code>path</code>: applicable path for the cookie</li><li><code>domain</code>: applicable domain for the cookie</li><li><code>expires</code>: a <code>Dates.DateTime</code> representing when the cookie should expire</li><li><code>maxage</code>: <code>maxage == 0</code> means no max age, <code>maxage &lt; 0</code> means delete cookie now, <code>max age &gt; 0</code> means the # of seconds until expiration</li><li><code>secure::Bool</code>: secure cookie attribute</li><li><code>httponly::Bool</code>: httponly cookie attribute</li><li><code>hostonly::Bool</code>: hostonly cookie attribute</li></ul><p>See http:#tools.ietf.org/html/rfc6265 for details.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/9666a965fb19e1694a6c85aeb5a3e2cb55220527/src/cookies.jl#L43-L63">source</a></section></article><h2 id="Utilities"><a class="docs-heading-anchor" href="#Utilities">Utilities</a><a id="Utilities-1"></a><a class="docs-heading-anchor-permalink" href="#Utilities" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="HTTP.sniff" href="#HTTP.sniff"><code>HTTP.sniff</code></a> — <span class="docstring-category">Function</span></header><section><div><p><code>HTTP.sniff(content::Union{Vector{UInt8}, String, IO})</code> =&gt; <code>String</code> (mimetype)</p><p><code>HTTP.sniff</code> will look at the first 512 bytes of <code>content</code> to try and determine a valid mimetype. If a mimetype can&#39;t be determined appropriately, <code>&quot;application/octet-stream&quot;</code> is returned.</p><p>Supports JSON detection through the <code>HTTP.isjson(content)</code> function.</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">julia&gt; HTTP.sniff(&quot;Hello world!!&quot;)
&quot;text/plain; charset=utf-8&quot;

julia&gt; HTTP.sniff(&quot;&lt;html&gt;&lt;body&gt;Hello world!!&lt;/body&gt;&lt;/html&gt;&quot;)
&quot;text/html; charset=utf-8&quot;

julia&gt; HTTP.sniff(&quot;{&quot;a&quot;: -1.0}&quot;)
&quot;application/json; charset=utf-8&quot;</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/9666a965fb19e1694a6c85aeb5a3e2cb55220527/src/sniff.jl#L22-L41">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HTTP.Strings.escapehtml" href="#HTTP.Strings.escapehtml"><code>HTTP.Strings.escapehtml</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">escapehtml(i::String)</code></pre><p>Returns a string with special HTML characters escaped: &amp;, &lt;, &gt;, &quot;, &#39;</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/9666a965fb19e1694a6c85aeb5a3e2cb55220527/src/Strings.jl#L8-L12">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HTTP.Messages.statustext" href="#HTTP.Messages.statustext"><code>HTTP.Messages.statustext</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">statustext(::Int) -&gt; String</code></pre><p><code>String</code> representation of a HTTP status code.</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">julia&gt; statustext(200)
&quot;OK&quot;

julia&gt; statustext(404)
&quot;Not Found&quot;</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/9666a965fb19e1694a6c85aeb5a3e2cb55220527/src/status_messages.jl#L1-L14">source</a></section></article><h2 id="Server-/-Handlers"><a class="docs-heading-anchor" href="#Server-/-Handlers">Server / Handlers</a><a id="Server-/-Handlers-1"></a><a class="docs-heading-anchor-permalink" href="#Server-/-Handlers" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="HTTP.Servers.listen" href="#HTTP.Servers.listen"><code>HTTP.Servers.listen</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">HTTP.listen([host=Sockets.localhost[, port=8081]]; kw...) do http::HTTP.Stream
    ...
end</code></pre><p>Listen for HTTP connections and execute the <code>do</code> function for each request.</p><p>The <code>do</code> function should be of the form <code>f(::HTTP.Stream)::Nothing</code>, and should at the minimum set a status via <code>setstatus()</code> and call <code>startwrite()</code> either explicitly or implicitly by writing out a response via <code>write()</code>.  Failure to do this will result in an HTTP 500 error being transmitted to the client.</p><p>Optional keyword arguments:</p><ul><li><code>sslconfig=nothing</code>, Provide an <code>MbedTLS.SSLConfig</code> object to handle ssl  connections. Pass <code>sslconfig=MbedTLS.SSLConfig(false)</code> to disable ssl  verification (useful for testing).</li><li><code>reuse_limit = nolimit</code>, number of times a connection is allowed to be reused after the first request.</li><li><code>tcpisvalid = tcp-&gt;true</code>, function <code>f(::TCPSocket)::Bool</code> to, check accepted  connection before processing requests. e.g. to do source IP filtering.</li><li><code>readtimeout::Int=0</code>, close the connection if no data is received for this  many seconds. Use readtimeout = 0 to disable.</li><li><code>reuseaddr::Bool=false</code>, allow multiple servers to listen on the same port.</li><li><code>server::Base.IOServer=nothing</code>, provide an <code>IOServer</code> object to listen on;  allows closing the server.</li><li><code>connection_count::Ref{Int}</code>, reference to track the number of currently  open connections.</li><li><code>rate_limit::Rational{Int}=nothing&quot;</code>, number of <code>connections//second</code>  allowed per client IP address; excess connections are immediately closed.  e.g. 5//1.</li><li><code>verbose::Bool=false</code>, log connection information to <code>stdout</code>.</li><li><code>access_log::Function</code>, function for formatting access log messages. The  function should accept two arguments, <code>io::IO</code> to which the messages should  be written, and <code>http::HTTP.Stream</code> which can be used to query information  from. See also <a href="@ref"><code>@logfmt_str</code></a>.</li><li><code>on_shutdown::Union{Function, Vector{&lt;:Function}, Nothing}=nothing</code>, one or  more functions to be run if the server is closed (for example by an  <code>InterruptException</code>). Note, shutdown function(s) will not run if an  <code>IOServer</code> object is supplied to the <code>server</code> keyword argument and closed  by <code>close(server)</code>.</li></ul><p>e.g.</p><pre><code class="language-julia hljs">HTTP.listen(&quot;127.0.0.1&quot;, 8081) do http
    HTTP.setheader(http, &quot;Content-Type&quot; =&gt; &quot;text/html&quot;)
    write(http, &quot;target uri: $(http.message.target)&lt;BR&gt;&quot;)
    write(http, &quot;request body:&lt;BR&gt;&lt;PRE&gt;&quot;)
    write(http, read(http))
    write(http, &quot;&lt;/PRE&gt;&quot;)
    return
end

HTTP.listen(&quot;127.0.0.1&quot;, 8081) do http
    @show http.message
    @show HTTP.header(http, &quot;Content-Type&quot;)
    while !eof(http)
        println(&quot;body data: &quot;, String(readavailable(http)))
    end
    HTTP.setstatus(http, 404)
    HTTP.setheader(http, &quot;Foo-Header&quot; =&gt; &quot;bar&quot;)
    startwrite(http)
    write(http, &quot;response body&quot;)
    write(http, &quot;more response body&quot;)
end</code></pre><p>The <code>server=</code> option can be used to pass an already listening socket to <code>HTTP.listen</code>. This allows manual control of server shutdown.</p><p>e.g.</p><pre><code class="language-julia hljs">using Sockets
server = Sockets.listen(Sockets.InetAddr(parse(IPAddr, host), port))
@async HTTP.listen(f, host, port; server=server)

# Closing server will stop HTTP.listen.
close(server)</code></pre><p>To run the following HTTP chat example, open two Julia REPL windows and paste the example code into both of them. Then in one window run <code>chat_server()</code> and in the other run <code>chat_client()</code>, then type <code>hello</code> and press return. Whatever you type on the client will be displayed on the server and vis-versa.</p><pre><code class="nohighlight hljs">using HTTP

function chat(io::HTTP.Stream)
    @async while !eof(io)
        write(stdout, readavailable(io), &quot;\n&quot;)
    end
    while isopen(io)
        write(io, readline(stdin))
    end
end

chat_server() = HTTP.listen(&quot;127.0.0.1&quot;, 8087) do io
    write(io, &quot;HTTP.jl Chat Server. Welcome!&quot;)
    chat(io)
end

chat_client() = HTTP.open(&quot;POST&quot;, &quot;http://127.0.0.1:8087&quot;) do io
    chat(io)
end</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/9666a965fb19e1694a6c85aeb5a3e2cb55220527/src/Servers.jl#L118-L223">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HTTP.Handlers.serve" href="#HTTP.Handlers.serve"><code>HTTP.Handlers.serve</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">HTTP.serve(f, host, port; stream::Bool=false, kw...)</code></pre><p>Start a server on the given host and port; for each incoming request, call the given handler function <code>f</code>, which should be of the form <code>req::HTTP.Request -&gt; HTTP.Response</code>. If <code>stream</code> is true, the handler function should be of the form <code>stream::HTTP.Stream -&gt; Nothing</code>. Accepts all the same keyword arguments (and passes them along) to <a href="@ref"><code>HTTP.listen</code></a>, including:</p><ul><li><code>sslconfig</code>: custom <code>SSLConfig</code> to support ssl connections</li><li><code>tcpisvalid</code>: custom function to validate tcp connections</li><li><code>server</code>: a server <code>Socket</code> that a user can manage (closing listening, etc.)</li><li><code>reuseaddr</code>: whether another server can listen on the same host/port (unix only)</li><li><code>max_connections</code>: max number of simultaneous connections allowed</li><li><code>connection_count</code>: a <code>Ref{Int}</code> to keep track of currently open connections</li><li><code>readtimeout</code>: time in seconds (integer) that the server should wait for a request to be sent</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/9666a965fb19e1694a6c85aeb5a3e2cb55220527/src/Handlers.jl#L28-L42">source</a></section></article><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>HTTP.Handlers</code>. Check Documenter&#39;s build log for details.</p></div></div><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>HTTP.handle</code>. Check Documenter&#39;s build log for details.</p></div></div><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>HTTP.RequestHandlerFunction</code>. Check Documenter&#39;s build log for details.</p></div></div><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>HTTP.StreamHandlerFunction</code>. Check Documenter&#39;s build log for details.</p></div></div><article class="docstring"><header><a class="docstring-binding" id="HTTP.Handlers.Router" href="#HTTP.Handlers.Router"><code>HTTP.Handlers.Router</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">HTTP.Router(_404, _405)</code></pre><p>Define a router object that maps incoming requests by path to registered routes and associated handlers. Paths can be registered using <a href="@ref"><code>HTTP.register!</code></a>. The router object itself is a &quot;request handler&quot; that can be called like:</p><pre><code class="nohighlight hljs">r = HTTP.Router()
resp = r(reqest)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/9666a965fb19e1694a6c85aeb5a3e2cb55220527/src/Handlers.jl#L231-L241">source</a></section></article><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>HTTP.@register</code>. Check Documenter&#39;s build log for details.</p></div></div><article class="docstring"><header><a class="docstring-binding" id="HTTP.@logfmt_str" href="#HTTP.@logfmt_str"><code>HTTP.@logfmt_str</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">logfmt&quot;...&quot;</code></pre><p>Parse an <a href="https://nginx.org/en/docs/http/ngx_http_log_module.html#log_format">NGINX-style log format string</a> and return a function mapping <code>(io::IO, http::HTTP.Stream) -&gt; body</code> suitable for passing to <a href="#HTTP.Servers.listen"><code>HTTP.listen</code></a> using the <code>access_log</code> keyword argument.</p><p>The following variables are currently supported:</p><ul><li><code>$http_name</code>: arbitrary request header (with <code>-</code> replaced with <code>_</code>, e.g. <code>http_user_agent</code>)</li><li><code>$sent_http_name</code>: arbitrary response header (with <code>-</code> replaced with <code>_</code>)</li><li><code>$request</code>: the request line, e.g. <code>GET /index.html HTTP/1.1</code></li><li><code>$request_method</code>: the request method</li><li><code>$request_uri</code>: the request URI</li><li><code>$remote_addr</code>: client address</li><li><code>$remote_port</code>: client port</li><li><code>$remote_user</code>: user name supplied with the Basic authentication</li><li><code>$server_protocol</code>: server protocol</li><li><code>$time_iso8601</code>: local time in ISO8601 format</li><li><code>$time_local</code>: local time in Common Log Format</li><li><code>$status</code>: response status code</li><li><code>$body_bytes_sent</code>: number of bytes in response body</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs">logfmt&quot;[$time_iso8601] \&quot;$request\&quot; $status&quot; # [2021-05-01T12:34:40+0100] &quot;GET /index.html HTTP/1.1&quot; 200

logfmt&quot;$remote_addr \&quot;$http_user_agent\&quot;&quot; # 127.0.0.1 &quot;curl/7.47.0&quot;</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/9666a965fb19e1694a6c85aeb5a3e2cb55220527/src/access_log.jl#L1-L30">source</a></section></article><h2 id="Messages-Interface"><a class="docs-heading-anchor" href="#Messages-Interface">Messages Interface</a><a id="Messages-Interface-1"></a><a class="docs-heading-anchor-permalink" href="#Messages-Interface" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="HTTP.Messages.Request" href="#HTTP.Messages.Request"><code>HTTP.Messages.Request</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Request &lt;: Message</code></pre><p>Represents a HTTP Request Message.</p><ul><li><p><code>method::String</code>  <a href="https://tools.ietf.org/html/rfc7230#section-3.1.1">RFC7230 3.1.1</a></p></li><li><p><code>target::String</code>  <a href="https://tools.ietf.org/html/rfc7230#section-5.3">RFC7230 5.3</a></p></li><li><p><code>version::VersionNumber</code>  <a href="https://tools.ietf.org/html/rfc7230#section-2.6">RFC7230 2.6</a></p></li><li><p><code>headers::Vector{Pair{String,String}}</code>  <a href="https://tools.ietf.org/html/rfc7230#section-3.2">RFC7230 3.2</a></p></li><li><p><code>body::Union{Vector{UInt8}, IO}</code>  <a href="https://tools.ietf.org/html/rfc7230#section-3.3">RFC7230 3.3</a></p></li><li><p><code>response</code>, the <code>Response</code> to this <code>Request</code></p></li><li><p><code>parent</code>, the <code>Response</code> (if any) that led to this request (e.g. in the case of a redirect).  <a href="https://tools.ietf.org/html/rfc7231#section-6.4">RFC7230 6.4</a></p></li><li><p><code>context</code>, a <code>Dict{Symbol, Any}</code> store used by middleware to share state</p></li></ul><p>You can get each data with <a href="#HTTP.Messages.method"><code>HTTP.method</code></a>, <a href="#HTTP.Messages.headers"><code>HTTP.headers</code></a>, <a href="#HTTP.Messages.uri"><code>HTTP.uri</code></a>, and <a href="#HTTP.Messages.body"><code>HTTP.body</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/9666a965fb19e1694a6c85aeb5a3e2cb55220527/src/Messages.jl#L185-L215">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HTTP.Messages.Response" href="#HTTP.Messages.Response"><code>HTTP.Messages.Response</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Response &lt;: Message</code></pre><p>Represents a HTTP Response Message.</p><ul><li><p><code>version::VersionNumber</code>  <a href="https://tools.ietf.org/html/rfc7230#section-2.6">RFC7230 2.6</a></p></li><li><p><code>status::Int16</code>  <a href="https://tools.ietf.org/html/rfc7230#section-3.1.2">RFC7230 3.1.2</a>  <a href="https://tools.ietf.org/html/rfc7231#section-6">RFC7231 6</a></p></li><li><p><code>headers::Vector{Pair{String,String}}</code>  <a href="https://tools.ietf.org/html/rfc7230#section-3.2">RFC7230 3.2</a></p></li><li><p><code>body::Vector{UInt8}</code>  <a href="https://tools.ietf.org/html/rfc7230#section-3.3">RFC7230 3.3</a></p></li><li><p><code>request</code>, the <code>Request</code> that yielded this <code>Response</code>.</p></li></ul><p>You can get each data with <a href="#HTTP.Messages.status"><code>HTTP.status</code></a>, <a href="#HTTP.Messages.headers"><code>HTTP.headers</code></a>, and <a href="#HTTP.Messages.body"><code>HTTP.body</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/9666a965fb19e1694a6c85aeb5a3e2cb55220527/src/Messages.jl#L85-L107">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HTTP.Messages.status" href="#HTTP.Messages.status"><code>HTTP.Messages.status</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">status(r::Response)</code></pre><p>Get status from a response.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/9666a965fb19e1694a6c85aeb5a3e2cb55220527/src/Messages.jl#L161-L165">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HTTP.Messages.headers" href="#HTTP.Messages.headers"><code>HTTP.Messages.headers</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">headers(r::Response)</code></pre><p>Get headers from a response.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/9666a965fb19e1694a6c85aeb5a3e2cb55220527/src/Messages.jl#L168-L172">source</a></section><section><div><pre><code class="nohighlight hljs">headers(r::Request)</code></pre><p>Get headers from a request.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/9666a965fb19e1694a6c85aeb5a3e2cb55220527/src/Messages.jl#L276-L280">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HTTP.Messages.body" href="#HTTP.Messages.body"><code>HTTP.Messages.body</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">body(r::Response)</code></pre><p>Get body from a response.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/9666a965fb19e1694a6c85aeb5a3e2cb55220527/src/Messages.jl#L175-L179">source</a></section><section><div><pre><code class="nohighlight hljs">body(r::Request)</code></pre><p>Get body from a request.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/9666a965fb19e1694a6c85aeb5a3e2cb55220527/src/Messages.jl#L283-L287">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HTTP.Messages.method" href="#HTTP.Messages.method"><code>HTTP.Messages.method</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">method(r::Request)</code></pre><p>Get method from a request.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/9666a965fb19e1694a6c85aeb5a3e2cb55220527/src/Messages.jl#L262-L266">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HTTP.Messages.uri" href="#HTTP.Messages.uri"><code>HTTP.Messages.uri</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">uri(r::Request)</code></pre><p>Get URI from a request.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaWeb/HTTP.jl/blob/9666a965fb19e1694a6c85aeb5a3e2cb55220527/src/Messages.jl#L269-L273">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../internal_architecture/">Internal Architecture »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.17 on <span class="colophon-date" title="Tuesday 10 May 2022 12:01">Tuesday 10 May 2022</span>. Using Julia version 1.7.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
